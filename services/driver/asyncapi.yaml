asyncapi: '2.0.0'
info:
  title: Driver API
  version: '1.0.0'

servers:
  dev:
    url: tcp://localhost:9092
    protocol: kafka
  production:
    url: tcp://pkc-e0x5p.us-east1.gcp.confluent.cloud:9092
    protocol: kafka

channels:
  ride/requested:
    publish:
      operationId: rideRequested
      summary: Ride requested
      description: The user requested a ride.
      message:
        $ref: '../control/asyncapi.yaml#/components/messages/rideRequested'
  ride/assigned:
    publish:
      operationId: rideAssigned
      summary: Ride assigned
      description: The driver has been assigned a ride.
      message:
        $ref: '../control/asyncapi.yaml#/components/messages/rideAssigned'
  ride/changed:
    subscribe:
      operationId: rideChanged
      summary: Ride changed
      description: The driver changed the status of a ride.
      message:
        $ref: '../control/asyncapi.yaml#/components/messages/rideChanged'
