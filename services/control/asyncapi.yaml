asyncapi: '2.0.0'
info:
  title: Control Panel API
  version: '1.0.0'

servers:
  $ref: '../definitions.yaml#/servers'

channels:
  participant/added:
    publish:
      operationId: onParticipantAdded
      message:
        payload:
          type: object
          required:
            - participant
          properties:
            participant:
              type: object
              required:
                - id
                - fullName
              properties:
                id:
                  type: string
                  description: Id of the participant.
                fullName:
                  type: string
  ride/requested:
    publish:
      $ref: '../definitions.yaml#/operations/rideRequested'
  ride/accepted:
    publish:
      $ref: '../definitions.yaml#/operations/rideAccepted'
  ride/assigned:
    subscribe:
      $ref: '../definitions.yaml#/operations/rideAssigned'
